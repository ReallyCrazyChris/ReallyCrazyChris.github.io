import{g as I}from"./extent.d7cb0bc8.js";const _={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class ${constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||_[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}var F=$;const P=6378137,h=Math.PI*P,D=[-h,-h,h,h],v=[-180,-85,180,85],E=P*Math.log(Math.tan(Math.PI/2));class u extends F{constructor(e){super({code:e,units:"m",extent:D,global:!0,worldExtent:v,getPointResolution:function(n,s){return n/Math.cosh(s[1]/P)}})}}const R=[new u("EPSG:3857"),new u("EPSG:102100"),new u("EPSG:102113"),new u("EPSG:900913"),new u("http://www.opengis.net/def/crs/EPSG/0/3857"),new u("http://www.opengis.net/gml/srs/epsg.xml#3857")];function L(t,e,n){const s=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(s));for(let r=0;r<s;r+=n){e[r]=h*t[r]/180;let i=P*Math.log(Math.tan(Math.PI*(+t[r+1]+90)/360));i>E?i=E:i<-E&&(i=-E),e[r+1]=i}return e}function N(t,e,n){const s=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(s));for(let r=0;r<s;r+=n)e[r]=180*t[r]/h,e[r+1]=360*Math.atan(Math.exp(t[r+1]/P))/Math.PI-90;return e}const B=6378137,C=[-180,-90,180,90],k=Math.PI*B/180;class c extends F{constructor(e,n){super({code:e,units:"degrees",extent:C,axisOrientation:n,global:!0,metersPerUnit:k,worldExtent:C})}}const m=[new c("CRS:84"),new c("EPSG:4326","neu"),new c("urn:ogc:def:crs:OGC:1.3:CRS84"),new c("urn:ogc:def:crs:OGC:2:84"),new c("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new c("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new c("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let x={};function J(t){return x[t]||x[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function z(t,e){x[t]=e}let g={};function w(t,e,n){const s=t.getCode(),r=e.getCode();s in g||(g[s]={}),g[s][r]=n}function H(t,e){let n;return t in g&&e in g[t]&&(n=g[t][e]),n}function ft(t,e,n){return Math.min(Math.max(t,e),n)}function ot(t,e,n,s,r,i){const f=r-n,a=i-s;if(f!==0||a!==0){const l=((t-n)*f+(e-s)*a)/(f*f+a*a);l>1?(n=r,s=i):l>0&&(n+=f*l,s+=a*l)}return V(t,e,n,s)}function V(t,e,n,s){const r=n-t,i=s-e;return r*r+i*i}function lt(t){const e=t.length;for(let s=0;s<e;s++){let r=s,i=Math.abs(t[s][s]);for(let a=s+1;a<e;a++){const l=Math.abs(t[a][s]);l>i&&(i=l,r=a)}if(i===0)return null;const f=t[r];t[r]=t[s],t[s]=f;for(let a=s+1;a<e;a++){const l=-t[a][s]/t[s][s];for(let o=s;o<e+1;o++)s==o?t[a][o]=0:t[a][o]+=l*t[s][o]}}const n=new Array(e);for(let s=e-1;s>=0;s--){n[s]=t[s][e]/t[s][s];for(let r=s-1;r>=0;r--)t[r][e]-=t[r][s]*n[s]}return n}function M(t){return t*Math.PI/180}function Y(t,e){const n=t%e;return n*e<0?n+e:n}function ct(t,e,n){return t+n*(e-t)}function O(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function ut(t,e){return Math.floor(O(t,e))}function ht(t,e){return Math.ceil(O(t,e))}function gt(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function Z(t,e){let n=!0;for(let s=t.length-1;s>=0;--s)if(t[s]!=e[s]){n=!1;break}return n}function dt(t,e){const n=Math.cos(e),s=Math.sin(e),r=t[0]*n-t[1]*s,i=t[1]*n+t[0]*s;return t[0]=r,t[1]=i,t}function Pt(t,e){return t[0]*=e,t[1]*=e,t}function Et(t,e){if(e.canWrapX()){const n=I(e.getExtent()),s=K(t,e,n);s&&(t[0]-=s*n)}return t}function K(t,e,n){const s=e.getExtent();let r=0;return e.canWrapX()&&(t[0]<s[0]||t[0]>s[2])&&(n=n||I(s),r=Math.floor((t[0]-s[0])/n)),r}const Q=63710088e-1;function T(t,e,n){n=n||Q;const s=M(t[1]),r=M(e[1]),i=(r-s)/2,f=M(e[0]-t[0])/2,a=Math.sin(i)*Math.sin(i)+Math.sin(f)*Math.sin(f)*Math.cos(s)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}const b={info:1,warn:2,error:3,none:4};let j=b.info;function p(...t){j>b.warn||console.warn(...t)}let S=!0;function tt(t){S=!(t===void 0?!0:t)}function G(t,e){if(e!==void 0){for(let n=0,s=t.length;n<s;++n)e[n]=t[n];e=e}else e=t.slice();return e}function W(t,e){if(e!==void 0&&t!==e){for(let n=0,s=t.length;n<s;++n)e[n]=t[n];t=e}return t}function et(t){z(t.getCode(),t),w(t,t,G)}function nt(t){t.forEach(et)}function d(t){return typeof t=="string"?J(t):t||null}function wt(t,e,n,s){t=d(t);let r;const i=t.getPointResolutionFunc();if(i){if(r=i(e,n),s&&s!==t.getUnits()){const f=t.getMetersPerUnit();f&&(r=r*f/_[s])}}else{const f=t.getUnits();if(f=="degrees"&&!s||s=="degrees")r=e;else{const a=U(t,d("EPSG:4326"));if(a===W&&f!=="degrees")r=e*t.getMetersPerUnit();else{let o=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];o=a(o,o,2);const q=T(o.slice(0,2),o.slice(2,4)),y=T(o.slice(4,6),o.slice(6,8));r=(q+y)/2}const l=s?_[s]:t.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function A(t){nt(t),t.forEach(function(e){t.forEach(function(n){e!==n&&w(e,n,G)})})}function st(t,e,n,s){t.forEach(function(r){e.forEach(function(i){w(r,i,n),w(i,r,s)})})}function Mt(t,e){return t?typeof t=="string"?d(t):t:d(e)}function _t(t,e){return tt(),X(t,"EPSG:4326",e!==void 0?e:"EPSG:3857")}function xt(t,e){const n=X(t,e!==void 0?e:"EPSG:3857","EPSG:4326"),s=n[0];return(s<-180||s>180)&&(n[0]=Y(s+180,360)-180),n}function St(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||U(t,e)===G)&&n}function U(t,e){const n=t.getCode(),s=e.getCode();let r=H(n,s);return r||(r=W),r}function rt(t,e){const n=d(t),s=d(e);return U(n,s)}function X(t,e,n){return rt(e,n)(t,void 0,t.length)}function Gt(t,e){return t}function Ut(t,e){return S&&!Z(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(S=!1,p("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function Rt(t,e){return t}function Ct(t,e){return t}function it(){A(R),A(m),st(m,R,L,N)}it();export{ht as A,ut as B,St as C,_ as M,rt as a,ot as b,ft as c,M as d,Mt as e,_t as f,d as g,Ut as h,Ct as i,gt as j,Gt as k,ct as l,Y as m,Rt as n,Z as o,tt as p,O as q,dt as r,V as s,xt as t,Pt as u,p as v,Et as w,lt as x,X as y,wt as z};
