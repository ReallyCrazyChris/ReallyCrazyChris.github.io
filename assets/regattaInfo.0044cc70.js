import{d as a}from"./index.42812f5f.js";import{u as s}from"./mqtt-vue-hook.es.c8aea688.js";const i=s(),n=a("regattaInfo",{state:()=>({id:"",name:"Quick Racing",description:"Come join us for a quick regatta",dateTime:"",earliestStartTime:"",latestStartTime:"",location:"Segelhafen am Brombachsee, Germany",lon:null,lat:null}),getters:{localDate(t){return t.dateTime.slice(0,10)},localTime(t){return t.dateTime.slice(11,16)}},actions:{createRaceId(){this.id=`${Math.random().toString(16).substring(2,10)}`},publishRegattaInfoState(){i.isConnected&&i.publish("regattainfo",JSON.stringify({id:this.id,title:this.title,description:this.description,dateTime:this.dateTime,earliestStartTime:this.earliestStartTime,latestStartTime:this.latestStartTime,location:this.location,lon:this.lon,lat:this.lat}),0,{retain:!0})},presetDateTime(){const t=new Date;t.setMinutes(0),t.setHours(t.getHours()+1);const e=new Date;e.setMinutes(0),e.setHours(e.getHours()+2),this.dateTime=new Date(Date.now()-new Date().getTimezoneOffset()*6e4).toISOString().slice(0,16),this.earliestStartTime=t.toLocaleTimeString().substring(0,5),this.latestStartTime=e.toLocaleTimeString().substring(0,5)},reset(){this.name="Quick Racing",this.description="Come join us for a quick regatta",this.presetDateTime()}}});export{n as u};
