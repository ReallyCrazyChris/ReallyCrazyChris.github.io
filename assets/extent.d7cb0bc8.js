var c={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function K(i){const r=C();for(let o=0,s=i.length;o<s;++o)A(r,i[o]);return r}function b(i,r,o){return o?(o[0]=i[0]-r,o[1]=i[1]-r,o[2]=i[2]+r,o[3]=i[3]+r,o):[i[0]-r,i[1]-r,i[2]+r,i[3]+r]}function d(i,r){return r?(r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r):i.slice()}function D(i,r,o){let s,f;return r<i[0]?s=i[0]-r:i[2]<r?s=r-i[2]:s=0,o<i[1]?f=i[1]-o:i[3]<o?f=o-i[3]:f=0,s*s+f*f}function z(i,r){return X(i,r[0],r[1])}function J(i,r){return i[0]<=r[0]&&r[2]<=i[2]&&i[1]<=r[1]&&r[3]<=i[3]}function X(i,r,o){return i[0]<=r&&r<=i[2]&&i[1]<=o&&o<=i[3]}function O(i,r){const o=i[0],s=i[1],f=i[2],u=i[3],a=r[0],E=r[1];let n=c.UNKNOWN;return a<o?n=n|c.LEFT:a>f&&(n=n|c.RIGHT),E<s?n=n|c.BELOW:E>u&&(n=n|c.ABOVE),n===c.UNKNOWN&&(n=c.INTERSECTING),n}function C(){return[1/0,1/0,-1/0,-1/0]}function N(i,r,o,s,f){return f?(f[0]=i,f[1]=r,f[2]=o,f[3]=s,f):[i,r,o,s]}function w(i){return N(1/0,1/0,-1/0,-1/0,i)}function j(i,r){const o=i[0],s=i[1];return N(o,s,o,s,r)}function P(i,r,o,s,f){const u=w(f);return L(u,i,r,o,s)}function Q(i,r){return i[0]==r[0]&&i[2]==r[2]&&i[1]==r[1]&&i[3]==r[3]}function Z(i,r){return r[0]<i[0]&&(i[0]=r[0]),r[2]>i[2]&&(i[2]=r[2]),r[1]<i[1]&&(i[1]=r[1]),r[3]>i[3]&&(i[3]=r[3]),i}function A(i,r){r[0]<i[0]&&(i[0]=r[0]),r[0]>i[2]&&(i[2]=r[0]),r[1]<i[1]&&(i[1]=r[1]),r[1]>i[3]&&(i[3]=r[1])}function L(i,r,o,s,f){for(;o<s;o+=f)S(i,r[o],r[o+1]);return i}function S(i,r,o){i[0]=Math.min(i[0],r),i[1]=Math.min(i[1],o),i[2]=Math.max(i[2],r),i[3]=Math.max(i[3],o)}function _(i,r){let o;return o=r(F(i)),o||(o=r(W(i)),o)||(o=r(M(i)),o)||(o=r(B(i)),o)?o:!1}function $(i){let r=0;return V(i)||(r=T(i)*Y(i)),r}function F(i){return[i[0],i[1]]}function W(i){return[i[2],i[1]]}function G(i){return[(i[0]+i[2])/2,(i[1]+i[3])/2]}function k(i,r){let o;if(r==="bottom-left")o=F(i);else if(r==="bottom-right")o=W(i);else if(r==="top-left")o=B(i);else if(r==="top-right")o=M(i);else throw new Error("Invalid corner");return o}function v(i,r,o,s,f){const[u,a,E,n,h,m,I,l]=U(i,r,o,s);return N(Math.min(u,E,h,I),Math.min(a,n,m,l),Math.max(u,E,h,I),Math.max(a,n,m,l),f)}function U(i,r,o,s){const f=r*s[0]/2,u=r*s[1]/2,a=Math.cos(o),E=Math.sin(o),n=f*a,h=f*E,m=u*a,I=u*E,l=i[0],g=i[1];return[l-n+I,g-h-m,l-n-I,g-h+m,l+n-I,g+h+m,l+n+I,g+h-m,l-n+I,g-h-m]}function Y(i){return i[3]-i[1]}function t(i,r,o){const s=o||C();return H(i,r)?(i[0]>r[0]?s[0]=i[0]:s[0]=r[0],i[1]>r[1]?s[1]=i[1]:s[1]=r[1],i[2]<r[2]?s[2]=i[2]:s[2]=r[2],i[3]<r[3]?s[3]=i[3]:s[3]=r[3]):w(s),s}function B(i){return[i[0],i[3]]}function M(i){return[i[2],i[3]]}function T(i){return i[2]-i[0]}function H(i,r){return i[0]<=r[2]&&i[2]>=r[0]&&i[1]<=r[3]&&i[3]>=r[1]}function V(i){return i[2]<i[0]||i[3]<i[1]}function x(i,r){return r?(r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r):i}function e(i,r,o){let s=!1;const f=O(i,r),u=O(i,o);if(f===c.INTERSECTING||u===c.INTERSECTING)s=!0;else{const a=i[0],E=i[1],n=i[2],h=i[3],m=r[0],I=r[1],l=o[0],g=o[1],R=(g-I)/(l-m);let p,y;!!(u&c.ABOVE)&&!(f&c.ABOVE)&&(p=l-(g-h)/R,s=p>=a&&p<=n),!s&&!!(u&c.RIGHT)&&!(f&c.RIGHT)&&(y=g-(l-n)*R,s=y>=E&&y<=h),!s&&!!(u&c.BELOW)&&!(f&c.BELOW)&&(p=l-(g-E)/R,s=p>=a&&p<=n),!s&&!!(u&c.LEFT)&&!(f&c.LEFT)&&(y=g-(l-a)*R,s=y>=E&&y<=h)}return s}function q(i,r){const o=r.getExtent(),s=G(i);if(r.canWrapX()&&(s[0]<o[0]||s[0]>=o[2])){const f=T(o),a=Math.floor((s[0]-o[0])/f)*f;i[0]-=a,i[2]-=a}return i}function ii(i,r){if(r.canWrapX()){const o=r.getExtent();if(!isFinite(i[0])||!isFinite(i[2]))return[[o[0],i[1],o[2],i[3]]];q(i,r);const s=T(o);if(T(i)>s)return[[o[0],i[1],o[2],i[3]]];if(i[0]<o[0])return[[i[0]+s,i[1],o[2],i[3]],[o[0],i[1],i[2],i[3]]];if(i[2]>o[2])return[[i[0],i[1],o[2],i[3]],[o[0],i[1],i[2]-s,i[3]]]}return[i]}export{N as A,A as B,q as C,Q as D,ii as E,t as F,$ as G,Z as H,U as I,k as J,c as R,w as a,K as b,C as c,Y as d,P as e,G as f,T as g,D as h,j as i,X as j,_ as k,L as l,H as m,J as n,e as o,V as p,v as q,x as r,z as s,O as t,d as u,b as v,B as w,M as x,W as y,F as z};
