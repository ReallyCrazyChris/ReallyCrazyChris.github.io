import{d as e}from"./index.42812f5f.js";const i=e("sounds",{state:()=>({duration:0,soundInstance:null}),actions:{userActionInit(){this.airhorn(0)},getPromiseFromEvent(n,s){return new Promise(o=>{const t=()=>{n.removeEventListener(s,t),o()};n.addEventListener(s,t)})},async airhorn(n=1){this.soundInstance||(this.soundInstance=await new Audio("sounds/airhorn.mp3"),await this.getPromiseFromEvent(this.soundInstance,"loadedmetadata"),this.duration=this.soundInstance.duration*1e3),n>0&&(this.soundInstance.loop=!0,this.soundInstance.play(),setTimeout(()=>{this.soundInstance.loop=!1},parseInt(this.duration)*n))}}}),a=i(),d=()=>a;export{d as u};
